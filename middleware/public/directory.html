<script>

	function search() {
		var str = $('#search')[0].value
		, links = $('#files a');
		alert($('#search'));
		alert($('#search')[0].value);
		alert('search');
		console.log(str);
		console.log(links);

		var callback = function ( index, el ) {
			var text = el.title;//textContent;

			if ('..' == text) return;
			if (str.length && ~text.indexOf(str)) {
				el.addClass('highlight');
			} else {
				el.removeClass('highlight');
			}
		}
		
		links.each( callback(index, el) );
	}

	$(window).on('content loaded', function(){
		alert('content loaded');
		$('#search')[0].on('keyup', search());
	});

</script>

<div class="directory">
	<style scoped>{style}</style>
	<input id="search" type="text" placeholder="Search" autocomplete="off" />
	<div id="wrapper">
		<!-- <h1><a href="/">~</a>{linked-path}</h1> -->
		<h1>{linked-path}</h1>
		{files}
	</div>
</div>
